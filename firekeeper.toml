[llm]
base_url = "https://openrouter.ai/api/v1"
model = "google/gemini-3-flash-preview"

[[rules]]
name = "Documentation Sync"
description = "Ensure documentation and comments are updated with code changes"
instruction = """
When code is modified, ensure:
- Related documentation (e.g., README.md, docs/) in the same or parent directories is updated.
- Struct/class/method/function doc comments match the code changes.
- Long and complex functions have comments explaining key steps.
"""
scope = ["**/*"]

[[rules]]
name = "No Code Duplication"
description = "Prevent duplicate code across files"
instruction = """
Ensure modified content does not duplicate code from other files.
- If duplicating an existing function, the code should call that function instead.
- If duplicating a code block, a shared function should be extracted.
- Ignore trivial duplication (e.g., simple one-liners).
"""
scope = ["**/*"]

[[rules]]
name = "No Magic Numbers"
description = "Prevent hardcoded numeric literals"
instruction = """
Reject magic numbers (unexplained numeric literals) in code.
All numbers except 0, 1, and -1 should be named constants with clear meaning.
Exceptions:
- Magic numbers in tests are allowed.
- Magic numbers in configuration files are allowed.
- Numbers with explanatory comments are allowed.
"""
scope = ["**/*"]

[[rules]]
name = "No Hardcoded Credentials"
description = "Prevent credential leaks"
instruction = """
Reject hardcoded credentials including API keys, passwords, tokens, and secrets.
Email addresses and contact information are allowed.
"""
scope = ["**/*"]
